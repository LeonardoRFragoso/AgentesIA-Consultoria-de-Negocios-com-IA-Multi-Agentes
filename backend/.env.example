# ============================================
# BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copie este arquivo para .env e preencha os valores

# --------------------------------------------
# APLICAÇÃO
# --------------------------------------------
APP_NAME=AgentesIA
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# URLs
APP_URL=https://app.seudominio.com.br
API_URL=https://api.seudominio.com.br
FRONTEND_URL=https://app.seudominio.com.br

# Segurança
SECRET_KEY=gere-uma-chave-secreta-com-pelo-menos-32-caracteres
ALLOWED_HOSTS=api.seudominio.com.br,localhost
CORS_ORIGINS=https://app.seudominio.com.br

# --------------------------------------------
# BANCO DE DADOS
# --------------------------------------------
DATABASE_URL=postgresql://user:password@host:5432/database
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis (cache e filas)
REDIS_URL=redis://:password@host:6379/0
REDIS_CACHE_TTL=3600

# --------------------------------------------
# AUTENTICAÇÃO
# --------------------------------------------
JWT_SECRET_KEY=gere-outra-chave-secreta-diferente-para-jwt
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth (opcional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# --------------------------------------------
# OPENAI / LLM
# --------------------------------------------
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# Fallback model (opcional)
OPENAI_FALLBACK_MODEL=gpt-3.5-turbo

# Rate limiting por usuário
LLM_RATE_LIMIT_PER_MINUTE=10
LLM_RATE_LIMIT_PER_DAY=100

# --------------------------------------------
# MERCADO PAGO (BILLING)
# --------------------------------------------
MERCADO_PAGO_ACCESS_TOKEN=APP_USR-...
MERCADO_PAGO_PUBLIC_KEY=APP_USR-...
MERCADO_PAGO_WEBHOOK_SECRET=
MERCADO_PAGO_SANDBOX=false

# IDs dos planos (criar via setup_plans.py)
MP_PLAN_PRO_MONTHLY=
MP_PLAN_PRO_YEARLY=
MP_PLAN_ENTERPRISE_MONTHLY=
MP_PLAN_ENTERPRISE_YEARLY=

# --------------------------------------------
# EMAIL (SMTP)
# --------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASSWORD=sua-app-password
SMTP_FROM_EMAIL=noreply@seudominio.com.br
SMTP_FROM_NAME=AgentesIA

# --------------------------------------------
# STORAGE (S3 / MinIO)
# --------------------------------------------
S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=agentesia-uploads
S3_REGION=sa-east-1

# --------------------------------------------
# MONITORAMENTO
# --------------------------------------------
# Sentry (error tracking)
SENTRY_DSN=https://xxx@sentry.io/xxx

# Analytics (opcional)
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# Logging externo (opcional)
LOGTAIL_TOKEN=

# --------------------------------------------
# RATE LIMITING
# --------------------------------------------
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10

# --------------------------------------------
# CELERY (BACKGROUND JOBS)
# --------------------------------------------
CELERY_BROKER_URL=redis://:password@host:6379/1
CELERY_RESULT_BACKEND=redis://:password@host:6379/2

# --------------------------------------------
# FEATURE FLAGS (OVERRIDE)
# --------------------------------------------
# Use para desabilitar features em emergência
FF_DISABLE_ANALYSIS=false
FF_MAINTENANCE_MODE=false
FF_NEW_PRICING=false
